@import "tailwindcss";

@theme {
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  
  --color-success: hsl(var(--success));
  --color-success-foreground: hsl(var(--success-foreground));
  
  --color-warning: hsl(var(--warning));
  --color-warning-foreground: hsl(var(--warning-foreground));
  
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  /* 圆角变量 */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  
  /* 动画 */
  --animate-fade-in: fade-in 0.2s ease-out;
  --animate-fade-out: fade-out 0.2s ease-out;
  --animate-slide-in: slide-in 0.3s ease-out;
  --animate-scale-in: scale-in 0.2s ease-out;

  @keyframes fade-in {
    from { opacity: 0 }
    to { opacity: 1 }
  }
  @keyframes fade-out {
    from { opacity: 1 }
    to { opacity: 0 }
  }
  @keyframes slide-in {
    from { transform: translateY(-10px); opacity: 0 }
    to { transform: translateY(0); opacity: 1 }
  }
  @keyframes scale-in {
    from { transform: scale(0.95); opacity: 0 }
    to { transform: scale(1); opacity: 1 }
  }
  /* 动画扩展 (可选) */
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from { height: 0 }
    to { height: var(--radix-accordion-content-height) }
  }
  @keyframes accordion-up {
    from { height: var(--radix-accordion-content-height) }
    to { height: 0 }
  }
}

/* 蓝白主色调 CSS 变量 */
:root {
  /* 背景与前景 */
  --background: 210 40% 98%;      /* 淡蓝白背景 */
  --foreground: 217 33% 17%;      /* 深蓝灰文本 */

  /* 蓝色主色调 */
  --primary: 217 91% 60%;         /* 明亮蓝色 #3B82F6 */
  --primary-foreground: 0 0% 100%; /* 白色文字 */

  /* 次要色 */
  --secondary: 214 32% 91%;       /* 浅灰蓝 */
  --secondary-foreground: 217 33% 17%;

  /* 弱化色 */
  --muted: 214 32% 91%;
  --muted-foreground: 215 16% 47%;

  /* 强调色 */
  --accent: 217 91% 60%;
  --accent-foreground: 0 0% 100%;

  /* 状态色 */
  --destructive: 0 84% 60%;       /* 红色 */
  --destructive-foreground: 0 0% 100%;
  
  --success: 142 71% 45%;         /* 绿色 */
  --success-foreground: 0 0% 100%;
  
  --warning: 38 92% 50%;          /* 橙色 */
  --warning-foreground: 0 0% 100%;

  /* 边框与输入 */
  --border: 214 32% 91%;
  --input: 214 32% 91%;
  --ring: 217 91% 60%;

  /* 卡片 */
  --card: 0 0% 100%;              /* 纯白 */
  --card-foreground: 217 33% 17%;

  --radius: 0.5rem;
}

/* 暗色模式 */
.dark {
  --background: 222 47% 11%;      /* 深蓝背景 */
  --foreground: 210 40% 98%;      /* 浅白文本 */

  --primary: 217 91% 60%;
  --primary-foreground: 0 0% 100%;

  --secondary: 217 33% 17%;
  --secondary-foreground: 210 40% 98%;

  --muted: 217 33% 17%;
  --muted-foreground: 215 20% 65%;

  --accent: 217 91% 60%;
  --accent-foreground: 0 0% 100%;

  --destructive: 0 63% 31%;
  --destructive-foreground: 210 40% 98%;
  
  --success: 142 71% 35%;
  --success-foreground: 210 40% 98%;
  
  --warning: 38 92% 40%;
  --warning-foreground: 210 40% 98%;

  --border: 217 33% 17%;
  --input: 217 33% 17%;
  --ring: 217 91% 60%;

  --card: 222 47% 11%;
  --card-foreground: 210 40% 98%;
}

/* 基础样式 */
@layer base {
  *, ::after, ::before {
    @apply border-border;
  }

  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    scrollbar-gutter: stable;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

/* 可复用组件样式 */
@layer components {
  /* 按钮基础样式 - 使用选择器分组代替 @apply btn */
  .btn, .btn-primary, .btn-secondary, .btn-destructive, .btn-outline, .btn-ghost, .btn-icon {
    @apply inline-flex items-center justify-center gap-2
           px-4 py-2
           text-sm font-medium
           rounded-lg
           transition-all duration-200
           focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2
           disabled:pointer-events-none disabled:opacity-50;
  }
  
  .btn-primary {
    @apply bg-primary text-primary-foreground
           hover:bg-primary/90
           active:scale-[0.98];
  }
  
  .btn-secondary {
    @apply bg-secondary text-secondary-foreground
           hover:bg-secondary/80;
  }
  
  .btn-destructive {
    @apply bg-destructive text-destructive-foreground
           hover:bg-destructive/90;
  }
  
  .btn-outline {
    @apply border border-border bg-transparent
           hover:bg-accent hover:text-accent-foreground;
  }
  
  .btn-ghost {
    @apply bg-transparent
           hover:bg-accent hover:text-accent-foreground;
  }
  
  .btn-icon {
    @apply p-2;
  }

  /* 输入框样式 */
  .input {
    @apply w-full px-3 py-2
           text-sm
           bg-background
           border border-input rounded-lg
           placeholder:text-muted-foreground
           transition-colors duration-200
           focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-1
           disabled:cursor-not-allowed disabled:opacity-50;
  }

  /* 卡片样式 */
  .card {
    @apply bg-card text-card-foreground
           rounded-xl border border-border
           shadow-sm;
  }
  
  .card-header {
    @apply p-6 pb-0;
  }
  
  .card-content {
    @apply p-6;
  }
  
  .card-footer {
    @apply p-6 pt-0;
  }

  /* 表格样式 */
  .table {
    @apply w-full text-sm;
  }
  
  .table thead {
    @apply bg-muted/50;
  }
  
  .table th {
    @apply px-4 py-3 text-left font-semibold text-muted-foreground;
  }
  
  .table td {
    @apply px-4 py-3 border-t border-border;
  }
  
  .table tbody tr {
    @apply transition-colors hover:bg-muted/30;
  }

  /* 状态标签 - 使用选择器分组 */
  .badge, .badge-primary, .badge-success, .badge-warning, .badge-destructive {
    @apply inline-flex items-center
           px-2.5 py-0.5
           text-xs font-medium
           rounded-full;
  }
  
  .badge-primary {
    @apply bg-primary/10 text-primary;
  }
  
  .badge-success {
    @apply bg-success/10 text-success;
  }
  
  .badge-warning {
    @apply bg-warning/10 text-warning;
  }
  
  .badge-destructive {
    @apply bg-destructive/10 text-destructive;
  }

  /* 弹窗遮罩 */
  .modal-overlay {
    @apply fixed inset-0 z-50
           bg-black/50 backdrop-blur-sm
           flex items-center justify-center
           animate-fade-in;
  }
  
  .modal-content {
    @apply bg-card rounded-xl shadow-xl
           w-full max-w-md mx-4
           animate-scale-in;
  }

  /* 导航链接 - 使用选择器分组 */
  .nav-link, .nav-link-active {
    @apply flex items-center gap-3
           px-3 py-2
           text-sm font-medium text-muted-foreground
           rounded-lg
           transition-colors duration-200
           hover:bg-accent hover:text-accent-foreground;
  }
  
  .nav-link-active {
    @apply bg-primary/10 text-primary;
  }

  /* 表单标签 */
  .label {
    @apply text-sm font-medium text-foreground;
  }
  
  /* 错误提示 */
  .error-message {
    @apply text-sm text-destructive mt-1;
  }
  
  /* 成功提示 */
  .success-message {
    @apply text-sm text-success mt-1;
  }
}
